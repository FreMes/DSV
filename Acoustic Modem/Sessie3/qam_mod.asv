function y = qam_mod( x, M)
if( x != floor(x/(M/2)) )
    error('Must be an odd number');
end
qam = zeros(size(x,1)/(M/2),M/2);

k=1;
i=1;
while(i<=size(x,1)/(M/2))
    qam(i,:) = x(((i-1)*M/2)+1:((i-1)*M/2+M/2),1)';
    i =i+1;
end
qam
% 
% modulator = modem.qammod('M', M, 'InputType', 'Bit');
% y = modulate (modulator,qam);

end

